!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("PIXI")):"function"==typeof define&&define.amd?define("optimo_interview",["PIXI"],t):"object"==typeof exports?exports.optimo_interview=t(require("PIXI")):e.optimo_interview=t(e.PIXI)}(window,function(i){return n={},r.m=o=[function(e,t){e.exports=i},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.random=void 0,t.random=function(e,t){return Math.floor(Math.random()*(Math.floor(t)-Math.ceil(e)))+Math.ceil(e)}},function(e,t,i){e.exports=i(3)},function(e,t,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,i,o){void 0===o&&(o=i),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,o){void 0===o&&(o=i),e[o]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&o(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;var h,a,p=n(i(0)),s=i(4),l=n(i(5)),d=i(6),u=i(1),c=i(7),f=i(8),v=i(9);(a=h=h||{})[a.STARTED=0]="STARTED",a[a.FAILED=1]="FAILED";var g=(y.prototype.clearStage=function(){var e,t,i;for(this.foodItems=[],null!==(e=this.player)&&void 0!==e&&e.reset();this.app.stage.children[0];)this.app.stage.removeChild(this.app.stage.children[0]);clearInterval(this.generateFoodInterval),clearInterval(this.levelChangeInterval),null!==(t=this.arrowLeftHandler)&&void 0!==t&&t.unsubscribe&&this.arrowLeftHandler.unsubscribe(),null!==(i=this.arrowRightHandler)&&void 0!==i&&i.unsubscribe&&this.arrowRightHandler.unsubscribe()},y.prototype.restartGame=function(){this.changeState(h.STARTED)},y.prototype.gameOver=function(){var e;null!==(e=this.background)&&void 0!==e&&e.typeChanged(v.BackgroundType.MENU),this.background&&this.app.stage.addChild(this.background.sprite),this.app.stage.addChild(this.ui.gameOverHeading),this.app.stage.addChild(this.ui.gameOverText),this.app.stage.addChild(this.ui.startAgainText)},y.prototype.gameStarted=function(){var e;null!==(e=this.background)&&void 0!==e&&e.typeChanged(v.BackgroundType.GAME),this.ui.setScore(0),this.failCounter=0,this.level=0,this.background&&this.app.stage.addChild(this.background.sprite),this.player&&this.app.stage.addChild(this.player.sprite),this.app.stage.addChild(this.ui.scoreText),this.generateFoodInterval=setInterval(this.generateFood.bind(this),l.foodGenerationInterval),this.levelChangeInterval=setInterval(this.newLevel.bind(this),l.levelChangeTime),this.setupKeyboardControl()},y.prototype.changeState=function(e){this.clearStage(),this.gameState===h.STARTED&&e===h.FAILED?this.gameOver():this.gameState===h.FAILED&&e===h.STARTED&&this.gameStarted(),this.gameState=e},y.prototype.onAssetsLoaded=function(){var e,t,i=this,o=((e={})[v.BackgroundType.MENU]=p.Texture.from("backgroundMenu"),e[v.BackgroundType.GAME]=p.Texture.from("backgroundGame"),e);this.background=new v.Background(o,this.windowSize),this.app.stage.addChild(this.background.sprite);for(var r=[],n=[],a=[],s=0;s<4;s++)r.push(p.Texture.from("knight iso char_idle_"+s+".png"));for(s=0;s<6;s++)n.push(p.Texture.from("knight iso char_run left_"+s+".png"));for(s=0;s<6;s++)a.push(p.Texture.from("knight iso char_run right_"+s+".png"));var d=((t={})[c.MoveState.IDLE]=r,t[c.MoveState.LEFT]=n,t[c.MoveState.RIGHT]=a,t);this.player=new c.Player(d,l.playerSpeed,l.playerAnimationSpeed,l.playerPositionY,this.windowSize,l.playerMargin),this.gameStarted(),this.app.ticker.add(function(){var e;i.gameState===h.STARTED&&(null!==(e=i.player)&&void 0!==e&&e.update(),i.updateFood(),i.checkCollisions(),i.removeOldFood())})},y.prototype.checkCollisions=function(){if(this.player)for(var e=0,t=this.foodItems;e<t.length;e++){var i=t[e];i.position().x>=this.player.position().x-l.playerWidth/2&&i.position().x<=this.player.position().x+l.playerWidth/2&&i.position().y>=this.player.position().y-l.playerWidth&&i.position().y<=this.player.position().y&&(i.markedToRemove=!0,this.ui.addScore(1))}},y.prototype.updateFood=function(){for(var e=0,t=this.foodItems;e<t.length;e++){t[e].update()}},y.prototype.increaseFailCounter=function(){this.failCounter++,this.failCounter>=l.failCountMax&&this.changeState(h.FAILED)},y.prototype.generateFood=function(){var e=l.foodInitialSpeed+l.foodSpeedIncrease*this.level,t=u.random(0,l.foodTypes.length),i=p.Sprite.from(l.foodTypes[t]+".png"),o=new d.FoodItem(i,e,this.windowSize,l.foodMargin,this.increaseFailCounter.bind(this));this.foodItems.push(o),this.app.stage.addChild(o.sprite)},y.prototype.removeOldFood=function(){for(var e=0,t=this.foodItems.filter(function(e){return!0===e.markedToRemove}).map(function(e){return e.sprite});e<t.length;e++){var i=t[e];this.app.stage.removeChild(i)}this.foodItems=this.foodItems.filter(function(e){return!e.markedToRemove})},y.prototype.setupKeyboardControl=function(){var t=this;this.arrowLeftHandler=s.keyHandler("ArrowLeft",function(){var e;return null===(e=t.player)||void 0===e?void 0:e.moveStateChanged(c.MoveState.LEFT)},function(){var e;return null===(e=t.player)||void 0===e?void 0:e.moveStateChanged(c.MoveState.IDLE)}),this.arrowRightHandler=s.keyHandler("ArrowRight",function(){var e;return null===(e=t.player)||void 0===e?void 0:e.moveStateChanged(c.MoveState.RIGHT)},function(){var e;return null===(e=t.player)||void 0===e?void 0:e.moveStateChanged(c.MoveState.IDLE)})},y.prototype.newLevel=function(){this.level+=1},y);function y(){this.gameState=h.STARTED,this.player=void 0,this.foodItems=[],this.windowSize=l.windowSize,this.generateFoodInterval=0,this.levelChangeInterval=0,this.failCounter=0,this.level=0,this.app=new p.Application({width:this.windowSize.width,height:this.windowSize.height,backgroundColor:16777215}),document.body.appendChild(this.app.view),this.ui=new f.UI(this.windowSize),this.ui.registerStartAgainOnClick(this.restartGame.bind(this)),this.app.loader.add("hero","./assets/sprites/hero.json").add("backgroundGame","./assets/graphics/background_1.png").add("backgroundMenu","./assets/graphics/background_3.png").add("food","./assets/sprites/food.json").load(this.onAssetsLoaded.bind(this))}t.Game=g,window.onload=function(){new g},window.PIXI=p},function(e,t,i){"use strict";var a,o;Object.defineProperty(t,"__esModule",{value:!0}),t.keyHandler=void 0,(o=a=a||{})[o.UP=0]="UP",o[o.DOWN=1]="DOWN",t.keyHandler=function(e,t,i){var o={keyCode:e,state:a.UP,pressCallback:t,releaseCallback:i,downHandler:void 0,upHandler:void 0,unsubscribe:void 0};o.downHandler=function(e){e.key===o.keyCode&&(o.state===a.UP&&o.pressCallback&&o.pressCallback(),o.state=a.DOWN,e.preventDefault())},o.upHandler=function(e){e.key===o.keyCode&&(o.state===a.DOWN&&o.releaseCallback&&o.releaseCallback(),o.state=a.UP,e.preventDefault())};var r=o.downHandler.bind(o),n=o.upHandler.bind(o);return window.addEventListener("keydown",r,!1),window.addEventListener("keyup",n,!1),o.unsubscribe=function(){window.removeEventListener("keydown",r),window.removeEventListener("keyup",n)},o}},function(e){e.exports=JSON.parse('{"windowSize":{"width":600,"height":700},"failCountMax":10,"levelChangeTime":15000,"playerSpeed":6,"playerMargin":30,"playerPositionY":640,"playerAnimationSpeed":0.1,"playerWidth":84,"foodGenerationInterval":1000,"foodInitialSpeed":2,"foodSpeedIncrease":1,"foodMargin":20,"foodTypes":["Apple","AppleWorm","Avocado","Bacon","Beer","Boar","Bread","Brownie","Bug","Cheese","Cherry","Chicken","ChickenLeg","Cookie","DragonFruit","Eggplant","Eggs","Fish","FishFillet","FishSteak","Grub","Grubs","Honey","Honeycomb","Jam","Jerky","Lemon","Marmalade","MelonCantaloupe","MelonHoneydew","MelonWater","Moonshine","Olive","Onion","Peach","PepperGreen","Pepperoni","PepperRed","Pickle","PickledEggs","PieApple","PieLemon","PiePumpkin","Pineapple","Potato","PotatoRed","Pretzel","Ribs","Roll","Saki","Sardines","Sashimi","Sausages","Shrimp","Steak","Stein","Strawberry","Sushi","Tart","Tomato","Turnip","Waffles","Whiskey","Wine"]}')},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FoodItem=void 0;var n=i(1),o=(r.prototype.update=function(){this.sprite.position.y+=this.speed,this.sprite.position.y>this.windowSize.height&&(this.markedToRemove=!0,this.foodMissedHandler())},r.prototype.position=function(){return this.sprite.position},r);function r(e,t,i,o,r){this.speed=0,this.markedToRemove=!1,this.sprite=e,this.speed=t,this.windowSize=i,this.sprite.position.x=n.random(o,this.windowSize.width-o),this.sprite.position.y=0,this.foodMissedHandler=r}t.FoodItem=o},function(e,t,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,i,o){void 0===o&&(o=i),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,o){void 0===o&&(o=i),e[o]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&o(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Player=t.MoveState=void 0;var s,a,d=n(i(0));(a=s=t.MoveState||(t.MoveState={}))[a.LEFT=0]="LEFT",a[a.RIGHT=1]="RIGHT",a[a.IDLE=2]="IDLE";var h=(p.prototype.update=function(){this.moveState!==s.IDLE&&(this.sprite.position.x+=this.moveState===s.LEFT?-this.speed:this.speed,this.sprite.position.x>this.windowSize.width-this.margin?this.sprite.position.x=this.windowSize.width-this.margin:this.sprite.position.x<this.margin&&(this.sprite.position.x=this.margin));var e=this.textures[this.moveState];this.sprite.textures!==e&&(this.sprite.textures=e,this.sprite.play())},p.prototype.position=function(){return this.sprite.position},p.prototype.moveStateChanged=function(e){this.moveState=e},p.prototype.reset=function(){this.moveStateChanged(s.IDLE),this.sprite.x=this.windowSize.width/2,this.sprite.y=this.initialPositionY},p);function p(e,t,i,o,r,n){this.speed=0,this.moveState=s.IDLE,this.markedToRemove=!1;var a=e[s.IDLE];this.sprite=new d.AnimatedSprite(a),this.textures=e,this.speed=t,this.windowSize=r,this.margin=n,this.initialPositionY=o,this.sprite.x=this.windowSize.width/2,this.sprite.y=this.initialPositionY,this.sprite.anchor.set(.5),this.sprite.animationSpeed=i,this.sprite.play()}t.Player=h},function(e,t,i){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,i,o){void 0===o&&(o=i),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,o){void 0===o&&(o=i),e[o]=t[i]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&o(t,e,i);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.UI=void 0;var a=n(i(0)),s=new a.TextStyle({fontFamily:"Arial",fontSize:36,fontStyle:"italic",fontWeight:"bold",fill:["#ffffff"],stroke:"#4a1850",strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:6,wordWrap:!0,wordWrapWidth:440}),d=new a.TextStyle({fontFamily:"Arial",fontSize:48,fontWeight:"bold",fill:["#ffffff"],stroke:"#c56500",strokeThickness:5,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:6,wordWrap:!0,wordWrapWidth:440}),h=(p.prototype.addScore=function(e){this.setScore(this.score+=e)},p.prototype.setScore=function(e){this.score=e,this.scoreText.text="Score: "+this.score,this.gameOverText.text="Your score: "+this.score},p.prototype.registerStartAgainOnClick=function(e){this.startAgainText.on("click",e)},p);function p(e){this.score=0,this.scoreText=new a.Text("Score: "+this.score,s),this.gameOverHeading=new a.Text("Game over!",s),this.gameOverText=new a.Text("Your score: "+this.score,s),this.startAgainText=new a.Text("Start again",d),this.windowSize=e,this.scoreText.position.x=10,this.scoreText.position.y=10,this.gameOverHeading.position.x=e.width/2,this.gameOverHeading.position.y=e.height/2-100,this.gameOverHeading.anchor.set(.5),this.gameOverText.position.x=e.width/2,this.gameOverText.position.y=e.height/2-50,this.gameOverText.anchor.set(.5),this.startAgainText.position.x=e.width/2,this.startAgainText.position.y=e.height/2+50,this.startAgainText.anchor.set(.5),this.startAgainText.interactive=!0,this.startAgainText.buttonMode=!0}t.UI=h},function(e,t,i){"use strict";var o,r;Object.defineProperty(t,"__esModule",{value:!0}),t.Background=t.BackgroundType=void 0,(r=o=t.BackgroundType||(t.BackgroundType={}))[r.MENU=0]="MENU",r[r.GAME=1]="GAME";var n=(a.prototype.typeChanged=function(e){this.type=e,this.sprite.texture=this.textures[e]},a);function a(e,t){this.type=o.MENU,this.sprite=new PIXI.Sprite(e[this.type]),this.textures=e,this.windowSize=t,this.sprite.x=this.windowSize.width/2,this.sprite.y=this.windowSize.height/2,this.sprite.anchor.set(.5)}t.Background=n}],r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(i,o,function(e){return t[e]}.bind(null,o));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2);function r(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var o,n});